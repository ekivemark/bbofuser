{% load i18n %}

{% if user.is_authenticated %}
    <div class="container-fluid">
        <div class="row-fluid">
            <div class="col-lg-10">
                 <h2>My Devices</h2>
            </div>
             <div class="col-lg-2 align-right">
                <a href="/device/add"
                   class="btn btn-success">
                    <i class="fa fa-plus-square-o"></i> Add a Device</a>
            </div>
        </div>

    </div>

    <table class="table table-striped table-hover ">
        <thead>
        {% comment %}#DONE: Add active status with icons{% endcomment %}
            <tr>
                <th>Edit</th>
                <th>Active</th>
                <th>Used</th>
                <th>permitted</th>
                <th>Device</th>
                <th>Account</th>
                <th>Key</th>
                <th>Valid Until</th>
                <th>Delete</th>
            </tr>
        </thead>
        {% for device in devices %}
            <tr>
                <td style="text-align:center;">
                    <a href="/device/edit/{{ device.id }}/"><i class="fa fa-pencil-square-o fa-lg"></i></a>
                </td>
                <td style="text-align:center;">
                    {% if device.active %}<i class="fa fa-check-square-o fa-lg" style="color:green"></i>
                    {% else %}<i class="fa fa-square-o fa-lg" style="color:red"></i>{% endif %}
                </td>
                <td style="text-align:center;">
                    {% if device.permitted %}<i class="fa fa-check-square-o fa-lg" style="color:green"></i>
                    {% else %}<i class="fa fa-square-o fa-lg" style="color:red"></i>{% endif %}
                </td>
                <td style="text-align:center">
                    {% if device.used %}<i class="fa fa-toggle-on fa-lg" style="color:green"></i>
                    {% else %}<i class="fa fa-toggle-off fa-lg" style="color:red"></i>{% endif %}
{#  DONE: Add Active Indicator#}
                </td>
                <td>
                    {{ device.device }}
                </td>
                <td>
                    {{ device.account }}
                </td>
                <td>
                    {{ device.password }}
                </td>
                <td>
                    {{ device.valid_until }}
                </td>
                <td style="text-align:center;">
                    <a href="/device/delete/{{ device.id }}/" style="color:red"><i class="fa fa-trash-o fa-fw fa-lg"></i></a>
                </td>

            </tr>
        {% endfor %}
    </table>
{% endif %}

